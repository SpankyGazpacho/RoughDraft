import get
import val
import sort
import error
import show


def kickuser(callcount):
    if callcount >= 9:
        return False
    else:
        return True


def main(listtype, maincallcount):
#   maincallcount = 0

    seplist = get.getlist()

    newlist, valerror = val.validatelist(seplist, listtype)

    if valerror == 2:
        error.errormessage(valerror, newlist, maincallcount)
        maincallcount += 1
#       print("val error call")
        return maincallcount
    else:
        sortedlist = sort.sortlist(newlist)
        show.showlist(sortedlist)
        return maincallcount


running = True
callcount = 0

while running:

    userinput = input("Enter an i/s or enter q or quit to end the program: ").lower()

    if (userinput == "q") | (userinput == "quit"):
        running = False
        break
    elif (userinput != 'i') & (userinput != 's'):
        error.errormessage(1, userinput, callcount)
        callcount += 1
#       print("ATTENTION" + str(callcount))
        running = kickuser(callcount)
#       print('i or s call"')
        continue

    callcount = main(userinput, callcount)
    running = kickuser(callcount)
#   print(running)
#   print("ATTENTION" + str(callcount))
#   print(main(userinput))

    repcheck = True
    while repcheck & running:
        Continue = input("Would you like to enter another list? (yes/no) ").lower()
        if (Continue == 'no') | (Continue == 'n'):
            running = False
            repcheck = False
        elif (Continue == 'yes') | (Continue == 'y'):
            running = True
            repcheck = False
            gamemessage = "Let start with what kind of list agian, type 's' for string or 'i' for intigers"
        else:
            error.errormessage(3, Continue, callcount)
            callcount = callcount + 1
#           print("yes/no error call")
#           print("ATTENTION" + str(callcount))
            running = kickuser(callcount)
